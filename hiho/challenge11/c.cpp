#include <stdio.h>
#include <string.h>
#include <stdlib.h>

const int maxn = (1<<20)+10;
int N;

// 来自 c.py 
double ans[100][100] = {
{ 1.0 },
{ 3.0 },
{ 7.000000, 8.0 },
{ 15.000000, 16.6666666667 },
{ 31.000000, 33.666667, 34.6666666667 },
{ 63.000000, 67.200000, 68.6 },
{ 127.000000, 133.600000, 135.533333, 136.533333333 },
{ 255.000000, 265.428571, 268.085714, 269.371428571 },
{ 511.000000, 527.642857, 531.300000, 532.942857, 533.942857143 },
{ 1023.000000, 1049.888889, 1054.952381, 1057.047619, 1058.26984127 },
{ 2047.000000, 2091.022222, 2098.098413, 2100.774603, 2102.263492, 2103.26349206 },
{ 4095.000000, 4168.036364, 4178.042424, 4181.475325, 4183.287446, 4184.46926407 },
{ 8191.000000, 8313.727273, 8328.068687, 8332.501587, 8334.709668, 8336.103608, 8337.10360751 },
{ 16383.000000, 16591.692308, 16612.549650, 16618.323543, 16621.022067, 16622.665423, 16623.8192696 },
{ 32767.000000, 33125.758242, 33156.554446, 33164.153180, 33167.466200, 33169.405261, 33170.734932, 33171.7349318 },
{ 65535.000000, 66157.847619, 66204.015385, 66214.133866, 66218.226018, 66220.518726, 66222.050594, 66223.1839272 },
{ 131071.000000, 132161.983333, 132232.234982, 132245.883084, 132250.975236, 132253.694766, 132255.460700, 132256.744034, 132257.744034 },
{ 262142.999996, 264069.264702, 264177.708400, 264196.370649, 264202.762340, 264206.001953, 264208.040738, 264209.493679, 264210.611326 },
{ 524287.000000, 527712.470588, 527882.160784, 527908.043784, 527916.145662, 527920.025318, 527922.384508, 527924.030260, 527925.278626, 527926.278626 },
{ 1048574.999984, 1054705.789458, 1054974.721346, 1055011.140188, 1055021.521310, 1055026.196774, 1055028.935124, 1055030.801309, 1055032.195530, 1055033.30079 }
};

int solve() {
  int cnt = 0, eq = 1;

  for (int i = 0; i < N; ++ i) {
    int t;
    scanf("%d", &t);
    cnt += eq*t;
    eq <<= 1;
  }

  if (cnt==0) return printf("%.6lf\n", 0.f);

  int m = 0;
  while (cnt) {
    if (cnt&1) m+=1;
    while (cnt&1) cnt >>= 1;
    cnt >>= 1;
  }
  return printf("%.6lf\n", ans[N-1][m-1]);
}

int main() {

  while (scanf("%d", &N) != EOF) {
    solve();
  }

  return 0;
}

